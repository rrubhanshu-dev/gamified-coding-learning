{% extends "base.html" %}

{% block title %}{{ topic.name }} - Learn{% endblock %}

{% block content %}
<div class="learn-container">
    <div class="container">
        <div class="breadcrumb">
            <a href="{{ url_for('learn') }}">Learn</a> / 
            <a href="{{ url_for('view_subject', subject_id=topic.subject_id) }}">{{ topic.subject_name }}</a> / 
            <span>{{ topic.name }}</span>
        </div>
        
        <h1 class="page-title">{{ topic.name }}</h1>
        {% if topic.description %}
        <p class="page-subtitle">{{ topic.description }}</p>
        {% endif %}
        
        {% if notes %}
        <div class="notes-list">
            {% for note in notes %}
            <div class="note-card">
                <h3><a href="{{ url_for('view_note', note_id=note.id) }}">{{ note.title }}</a></h3>
                <p class="note-meta">
                    <span class="badge">{{ note.visibility.title() }}</span>
                    {% if 'Practice Questions' in note.title %}
                    <span class="badge" style="background: var(--secondary-color);">Practice</span>
                    {% endif %}
                    <span class="date">{{ note.created_at }}</span>
                </p>
                <a href="{{ url_for('view_note', note_id=note.id) }}" class="btn btn-primary btn-sm">
                    {% if 'Practice Questions' in note.title %}View Questions →{% else %}Read Note →{% endif %}
                </a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="no-data">
            <p>No notes available in this topic yet.</p>
        </div>
        {% endif %}
        
        <div class="back-link">
            <a href="{{ url_for('view_subject', subject_id=topic.subject_id) }}" class="btn btn-secondary">← Back to {{ topic.subject_name }}</a>
        </div>
    </div>
</div>
{% endblock %}
